<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Standardize the metabolic variables. — nc_standardize • NetCoupler</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Standardize the metabolic variables. — nc_standardize"><meta property="og:description" content="
Can standardize by either 1) log()-transforming and then applying scale()
(mean-center and scaled by standard deviation), or 2) if regressed_on
variables are given, then log-transforming, running a linear regression to obtain
the stats::residuals(), and finally scaled. Use regressed_on to try to
remove influence of potential confounding."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NetCoupler</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.4.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/NetCoupler.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/description.html">Implementation details of NetCoupler</a>
    </li>
    <li>
      <a href="../articles/examples.html">Examples of using NetCoupler with different models</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/NetCoupler/NetCoupler/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Standardize the metabolic variables.</h1>
    <small class="dont-index">Source: <a href="https://github.com/NetCoupler/NetCoupler/blob/HEAD/R/standardize.R" class="external-link"><code>R/standardize.R</code></a></small>
    <div class="hidden name"><code>nc_standardize.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p>Can standardize by either 1) <code><a href="https://rdrr.io/r/base/Log.html" class="external-link">log()</a></code>-transforming and then applying <code><a href="https://rdrr.io/r/base/scale.html" class="external-link">scale()</a></code>
(mean-center and scaled by standard deviation), or 2) if <code>regressed_on</code>
variables are given, then log-transforming, running a linear regression to obtain
the <code><a href="https://rdrr.io/r/stats/residuals.html" class="external-link">stats::residuals()</a></code>, and finally scaled. Use <code>regressed_on</code> to try to
remove influence of potential confounding.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">nc_standardize</span><span class="op">(</span><span class="va">data</span>, cols <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span>, regressed_on <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>Data frame.</p></dd>
<dt>cols</dt>
<dd><p>Metabolic variables that will make up the network.</p></dd>
<dt>regressed_on</dt>
<dd><p>Optional. A character vector of variables to regress the
metabolic variables on. Use if you want to standardize the metabolic variables
on variables that are known to influence them, e.g. sex or age. Calculates
the residuals from a linear regression model.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Outputs a <a href="https://tibble.tidyverse.org/reference/tibble-package.html" class="external-link">tibble</a> object, with the original metabolic
variables now standardized.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><a href="nc_estimate_links.html">nc_estimate_links</a> for more detailed examples or the <code><a href="../articles/NetCoupler.html">vignette("NetCoupler")</a></code>.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="co"># Don't regress on any variable</span></span>
<span class="r-in"><span class="va">simulated_data</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">nc_standardize</span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"metabolite_"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2,000 × 18</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    metabolite_1 metabolite_2 metabolite_3 metabolite_4 metabolite_5 metabolite_6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>       1.58          1.43        0.371         1.49        -<span style="color: #BB0000;">0.532</span>        1.21 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>      -<span style="color: #BB0000;">0.245</span>        -<span style="color: #BB0000;">0.951</span>       0.498         1.37         0.907       -<span style="color: #BB0000;">1.72</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>       0.518         1.58        0.840         0.163        0.590        1.79 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>       1.02         -<span style="color: #BB0000;">1.42</span>        0.303         0.560        0.477        1.05 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>      -<span style="color: #BB0000;">0.064</span><span style="color: #BB0000; text-decoration: underline;">0</span>        0.119      -<span style="color: #BB0000;">0.346</span>         1.09        -<span style="color: #BB0000;">0.216</span>        1.39 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>      -<span style="color: #BB0000;">1.59</span>         -<span style="color: #BB0000;">2.15</span>        0.549        -<span style="color: #BB0000;">0.744</span>       -<span style="color: #BB0000;">1.11</span>         1.53 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>       0.142        -<span style="color: #BB0000;">0.903</span>      -<span style="color: #BB0000;">0.233</span>        -<span style="color: #BB0000;">1.12</span>        -<span style="color: #BB0000;">1.33</span>        -<span style="color: #BB0000;">1.93</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>      -<span style="color: #BB0000;">0.629</span>        -<span style="color: #BB0000;">0.731</span>      -<span style="color: #BB0000;">1.28</span>         -<span style="color: #BB0000;">0.955</span>       -<span style="color: #BB0000;">1.65</span>        -<span style="color: #BB0000;">1.37</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>       1.03         -<span style="color: #BB0000;">0.217</span>       0.040<span style="text-decoration: underline;">3</span>        1.36         0.671        0.176</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>       0.295         2.23        1.76          1.30         1.38        -<span style="color: #BB0000;">0.846</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 1,990 more rows, and 12 more variables: metabolite_7 &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   metabolite_8 &lt;dbl&gt;, metabolite_9 &lt;dbl&gt;, metabolite_10 &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   outcome_continuous &lt;dbl&gt;, metabolite_12 &lt;dbl&gt;, metabolite_11 &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   exposure &lt;dbl&gt;, age &lt;dbl&gt;, id &lt;int&gt;, outcome_event_time &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   outcome_binary &lt;int&gt;</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Extract residuals by regressing on a variable</span></span>
<span class="r-in"><span class="va">simulated_data</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">nc_standardize</span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"metabolite_"</span><span class="op">)</span>, <span class="st">"age"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2,000 × 18</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    metabolite_1 metabolite_2 metabolite_3 metabolite_4 metabolite_5 metabolite_6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>       0.877         0.748      -<span style="color: #BB0000;">0.230</span>        0.737       -<span style="color: #BB0000;">1.09</span>          0.459</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>      -<span style="color: #BB0000;">0.398</span>        -<span style="color: #BB0000;">1.05</span>        0.299        1.08         0.661        -<span style="color: #BB0000;">1.77</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>      -<span style="color: #BB0000;">0.213</span>         0.782       0.108       -<span style="color: #BB0000;">0.596</span>       -<span style="color: #BB0000;">0.161</span>         0.880</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>       0.952        -<span style="color: #BB0000;">1.32</span>        0.287        0.519        0.443         0.974</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>       0.098<span style="text-decoration: underline;">2</span>        0.267      -<span style="color: #BB0000;">0.170</span>        1.17        -<span style="color: #BB0000;">0.038</span><span style="color: #BB0000; text-decoration: underline;">9</span>        1.46 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>      -<span style="color: #BB0000;">1.86</span>         -<span style="color: #BB0000;">2.38</span>        0.144       -<span style="color: #BB0000;">1.09</span>        -<span style="color: #BB0000;">1.41</span>          0.993</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>       0.260        -<span style="color: #BB0000;">0.715</span>      -<span style="color: #BB0000;">0.093</span><span style="color: #BB0000; text-decoration: underline;">2</span>      -<span style="color: #BB0000;">0.896</span>       -<span style="color: #BB0000;">1.09</span>         -<span style="color: #BB0000;">1.63</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>       0.217         0.114      -<span style="color: #BB0000;">0.411</span>       -<span style="color: #BB0000;">0.015</span><span style="color: #BB0000; text-decoration: underline;">8</span>      -<span style="color: #BB0000;">0.705</span>        -<span style="color: #BB0000;">0.372</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>       0.719        -<span style="color: #BB0000;">0.443</span>      -<span style="color: #BB0000;">0.198</span>        0.988        0.371        -<span style="color: #BB0000;">0.106</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>      -<span style="color: #BB0000;">0.123</span>         1.68        1.25         0.773        0.868        -<span style="color: #BB0000;">1.22</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 1,990 more rows, and 12 more variables: metabolite_7 &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   metabolite_8 &lt;dbl&gt;, metabolite_9 &lt;dbl&gt;, metabolite_10 &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   outcome_continuous &lt;dbl&gt;, metabolite_12 &lt;dbl&gt;, metabolite_11 &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   exposure &lt;dbl&gt;, age &lt;dbl&gt;, id &lt;int&gt;, outcome_event_time &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   outcome_binary &lt;int&gt;</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Luke Johnston, Clemens Wittenbecher.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

